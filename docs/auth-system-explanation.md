# 로그인 시스템 쉽게 이해하기 🎈

## 로그인 시스템이 작동하는 방법 

### 1. 입장 팔찌 🎪

놀이공원에 입장할 때처럼 로그인하면 두 개의 팔찌를 받아요:

- **짧은 팔찌** (액세스 토큰)
  - 놀이기구 탈 때 보여주는 팔찌예요
  - 짧은 시간 동안만 사용할 수 있어요
  - 웹사이트의 여러 기능을 사용할 때 필요해요

- **긴 팔찌** (리프레시 토큰)
  - 짧은 팔찌를 잃어버렸을 때 새로 받을 수 있는 팔찌예요
  - 더 오래 사용할 수 있어요
  - 새로운 짧은 팔찌를 받을 때 사용해요

### 2. 팔찌 보관함 📦

팔찌를 두 개의 특별한 보관함에 넣어둬요:

- **쿠키 상자** (쿠키)
  - 선생님이 볼 수 있는 특별한 상자예요
  - 웹사이트가 쉽게 확인할 수 있어요
  - 아주 안전한 곳에 보관돼요

- **비상용 상자** (로컬 스토리지)
  - 내 가방에 넣어두는 복사본이에요
  - 혹시 모를 때를 위해 보관해요
  - 쿠키 상자에 문제가 생겼을 때 사용해요

### 3. 선생님의 확인 (미들웨어) 👨‍🏫

교실에 들어갈 때마다 선생님이 확인하는 것처럼:

1. 웹사이트의 특별한 페이지에 들어갈 때마다 팔찌를 확인해요
2. 팔찌가 있으면 들어갈 수 있어요
3. 팔찌가 없으면 교무실(로그인 페이지)로 가야해요
4. 선생님이 항상 지켜봐서 안전해요

### 4. 팔찌가 낡았을 때 🔄

팔찌가 낡으면 새로운 팔찌로 바꿀 수 있어요:

1. 짧은 팔찌가 낡으면 긴 팔찌를 보여줘요
2. 긴 팔찌로 새로운 짧은 팔찌를 받아요
3. 새 팔찌를 보관함에 잘 보관해요
4. 다시 웹사이트를 자유롭게 사용할 수 있어요!

### 5. 전체 과정 🎡

전체 과정은 이렇게 진행돼요:

1. 로그인하면 팔찌를 받아요
2. 팔찌를 보관함에 잘 넣어둬요
3. 특별한 페이지에 갈 때마다 선생님이 확인해요
4. 팔찌가 있으면 자유롭게 사용할 수 있어요
5. 팔찌가 낡으면 새로운 팔찌로 바꿔요

### 이렇게 하는 이유 🤔

- 팔찌가 있어야 특별한 페이지에 들어갈 수 있어요
- 팔찌를 잃어버려도 긴 팔찌로 새로 받을 수 있어요
- 선생님이 항상 확인해서 안전해요
- 팔찌는 두 곳에 보관해서 안전하게 지킬 수 있어요

## 전문가용 설명 🔒

위의 비유를 실제 기술 용어로 설명하면:

- **팔찌** = 토큰 (Token)
  - 짧은 팔찌 = Access Token
  - 긴 팔찌 = Refresh Token

- **보관함** = Storage
  - 쿠키 상자 = Cookies (HttpOnly)
  - 비상용 상자 = Local Storage

- **선생님** = Middleware
  - 인증 상태 확인
  - 보호된 라우트 관리
  - 세션 유효성 검증

- **팔찌 교체** = Token Refresh
  - Access Token 만료 시
  - Refresh Token으로 새로운 Access Token 발급
  - 자동 갱신 프로세스 